var $musicManager,MusicManager=function(){function o(){this.loopStart="res/sound/loopStart.mp3",this.loopEnd="res/sound/loopEnd.mp3",this.loopList=[],this.currentMusic="",$musicManager=this,this.loopList=["res/sound/loop1.mp3","res/sound/loop2.mp3","res/sound/loop3.mp3"]}return o.prototype.play=function(o){this.currentMusic=o,SoundManager.playMusic(o,1,new Handler(this,this.onMusicFinished))},o.prototype.onMusicFinished=function(){this.currentMusic==this.loopStart?this.playRandomLoop():this.currentMusic==this.loopEnd||this.playRandomLoop()},o.prototype.playRandomLoop=function(){o=Math.floor(Math.random()*this.loopList.length);if((t=this.loopList[o])==this.currentMusic)var o=Math.floor(Math.random()*this.loopList.length),t=this.loopList[o];this.play(t)},o.prototype.begin=function(){this.play(this.loopStart)},o.prototype.end=function(){this.play(this.loopEnd)},o}();